<!DOCTYPE html>
<html lang="en">

    <head>
        <link rel="stylesheet" href="index.css">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&display=swap" rel="stylesheet">

        <meta charset="UTF-8"/>
        <!-- Take control of viewport scaling from websites auto settings-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title> Prept </title>
    </head>


    <body>
        <!-- In this section, use header, main, and footer elements to give semantic structure-->
        <header>
            <!-- I want this to be displayed as a banner image-->
            <div class="image">
                <h1>Prept</h1>
            </div>
            <h2>Username here</h2>
            <!-- Nav elements-->
            <nav>
                <!-- menu is a semantic alternative to <ul> that represents an interaction -->
                <menu>
                    <button><a href="add.html">Add Item</a></button>
                    <button><a href="index.html">Logout </a></button>
                </menu>        
            </nav>

            <!-- This next section is old style HTML to give visual formatting -->
            <hr />
        </header>

        <main>
            <div class="grid-container">
                <div class="grid-item">
                  <h3 class="grid-title">Item Name</h3>
                  <p class="grid-content">Item 1</p>
                  <p class="grid-content">Item 2</p>
                  <p class="grid-content">Item 3</p>
                </div>
                <div class="grid-item">
                  <h3 class="grid-title">Quantity</h3>
                  <p class="grid-content">2</p>
                  <p class="grid-content">6</p>
                  <p class="grid-content">5</p>
                </div>
                <div class="grid-item">
                  <h3 class="grid-title">Price</h3>
                  <p class="grid-content">10.99</p>
                  <p class="grid-content">7.99</p>
                  <p class="grid-content">4.99</p>
                </div>
              </div>
              
              <p>Total Number of Items: <span id="total-items"></span></p>
              <p>Total Price: $<span id="total-price"></span></p>
            </div>  
        </main>

        <footer>
            <hr />
            <!-- <span> is used here to override any modifications that would otherwise 
                be applied to Author Name(s) as a footer text-->
            <span class="text-reset">Author Name(s)</span>
            <br />    
            <a href="https://github.com/JordanTStrong/startup/tree/main">GitHub</a>
        </footer>

    <script>
        // get the username from localStorage
        var username = localStorage.getItem("username");
    
        // set the username in the h2 tag
        document.querySelector("h2").textContent = username;
    
        // get the groceries from localStorage
        var groceries = JSON.parse(localStorage.getItem("groceries")) || [];
    
        // update the DOM with the groceries
        groceries.forEach(function(grocery) {
            // find the corresponding grid-item
            var gridItem = document.querySelector(".grid-item." + grocery.name);
    
            // if the gridItem doesn't exist, create it
            if (!gridItem) {
                gridItem = document.createElement("div");
                gridItem.classList.add("grid-item");
                gridItem.classList.add(grocery.name);
                document.querySelector(".grid-container").appendChild(gridItem);
            }
    
            // set the content of the gridItem
            gridItem.innerHTML = "<h3 class='grid-title'>" + grocery.name + "</h3><p class='grid-content'>" + grocery.quantity + "</p><p class='grid-content'>" + grocery.price + "</p>";
        });
    </script>
    
    </body>    
</html>